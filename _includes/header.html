<!DOCTYPE html>

<html class="c-font-size" lang="{{ site.lang }}">

    <head>

        {% if page.is_home %}
        <title>{{ site.title }}</title>
        <meta name="description" content="{{ site.description }}">
        {% elsif page.is_note %}
        <title>{{ page.excerpt | strip_html | truncatewords: 5 }}&hellip; &#8211; {{ site.title }}</title>
        {% else %}
        <title>{{ page.title }} &#8211; {{ site.title }}</title>
        {% endif %}

        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="utf-8">
        <meta name="author" content="Leon Paternoster">
        {% if jekyll.environment == "development" %}
        <meta name="robots" content="noindex, nofollow">
        {% endif %}

        {% if page.is_post %}
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@leonpaternoster" />
        <meta name="twitter:title" content="{{ page.title }}" />
        {% if page.description %}
        <meta name="twitter:description" content="{{ page.description }}" />
        {% else %}
        <meta name="twitter:description" content="{{ page.excerpt  | strip_html }}" />
        {% endif %}
        {% if page.img %}
        <meta name="twitter:image" content="https://www.leonpaternoster.com/images/{{ page.img }}" />
        <meta name="twitter:image:alt" content="{{ page.alt }}" />
        {% endif %}
        {% endif %}

        {% if page.is_post %}
        <link rel="schema.DCTERMS" href="https://purl.org/dc/terms/">
        <meta name="DC.Title" content="{{ page.title}}">
        <meta name="DC.Creator" content="Leon Paternoster">
        <meta name="DC.Subject" content="{% if page.subject %}{{ page.subject }}{% else %}{{ page.category | capitalize }}{% endif %}">
        {% if page.description %}<meta name="DC.Description" content="{{ page.description }}">{% endif %}
        <meta name="DC.Publisher" content="Leon Paternoster">
        <meta name="DC.Contributor" content="Leon Paternoster">
        <meta name="DC.Date" content="{{ page.date | date: "%b %-d %Y" }}">
        <meta name="DC.Language" content="en-gb">
        {% endif %}

        {% if site.webmention-pingback %}<link rel="pingback" href="{{ site.webmention-pingback }}">{% endif %}
        {% if site.webmention-mention %}<link rel="webmention" href="{{ site.webmention-mention }}">{% endif %}
        {% if site.me %}<link href="{{ site.me }}" rel="me">{% endif %}

        <link rel="alternate" type="application/rss+xml" title="{{ site.title }} &#8211; all posts" href="{{ site.url }}/feed/index.xml">

        {% if page.category == 'libraries' or page.title == 'Libraries' %}
        <link rel="alternate" type="application/rss+xml" title="{{ site.title }} &#8211; posts about libraries" href="/posts/libraries/feed/index.xml">
        {% endif %}

        {% if page.category == 'politics' or page.title == 'Politics' %}
        <link rel="alternate" type="application/rss+xml" title="{{ site.title }} &#8211; posts about politics" href="/posts/politics/feed/index.xml">
        {% endif %}

        {% if page.category == 'thinking' or page.title == 'Thinking' %}
        <link rel="alternate" type="application/rss+xml" title="{{ site.title }} &#8211; thinking posts" href="/posts/thinking/feed/index.xml">
        {% endif %}

        {% if page.category == 'web' or page.title == 'Web' %}
        <link rel="alternate" type="application/rss+xml" title="{{ site.title }} &#8211; posts about the web" href="/posts/web/feed/index.xml">
        {% endif %}

        {% if page.is_note == 'true' or page.title == 'Notes' %}
        <link rel="alternate" type="application/rss+xml" title="{{ site.title }} &#8211; notes" href="/notes/feed/index.xml">
        {% endif %}

        {% if page.is_link == 'true' or page.title == 'Links' %}
        <link rel="alternate" type="application/rss+xml" title="{{ site.title }} &#8211; links" href="/links/feed/index.xml">
        {% endif %}

        {% if site.css == 'inline' %}
        <style>
        {% capture inline-styles %}
        {% include style.scss %}
        {% endcapture %}
        {{ inline-styles | scssify }}
        </style>
        {% else %}
        <link href="/css/style.css" rel="stylesheet">
        {% endif %}

        {% include preload.html %} <!-- ~ Hullo. I would make this a Liquid include if I wanted to preload some fonts ðŸ¦‰ -->

        <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

    </head>

    <body class="ma0 pa0 bg-white dark-gray c-serif c-lh-copy">

        <div class="clip pv1 ph2 f7 c-linky-visited c-linky-underline bb b--light-gray c-no-print">Skip to: <a href="#content">content</a>, <a href="#nav">navigation</a></div>

        <header class="bg-white ph3 ph4-ns pv1 bg-white c-sans-serif c-sticky z-1">

            <div class="flex items-center f4">

                <div class="w-75"><a title="Go to home page" href="/" class="ttl small-caps b dib pv1 black no-underline"><span class="v-mid" role="img" aria-label="Electric arrow">â‡§</span></a></div>

                <div class="w-25 tr">

                    <button class="c-sans-serif has-toggle-button pv1 bn bg-white black pointer tl" type="button" aria-expanded="false" aria-label="Open/close navigation menu" title="Open/close navigation menu">

                        <svg class="v-mid" version="1.1" stroke="#000" fill="#000" height="1em" width="1em" viewBox="0 0 36 36" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

                            <rect x="2" y="8" width="2" height="2"></rect>
                            <path d="M7,10H31a1,1,0,0,0,0-2H7a1,1,0,0,0,0,2Z"></path>
                            <rect x="2" y="14" width="2" height="2"></rect>
                            <path d="M31,14H7a1,1,0,0,0,0,2H31a1,1,0,0,0,0-2Z"></path>
                            <rect x="2" y="20" width="2" height="2"></rect>
                            <path d="M31,20H7a1,1,0,0,0,0,2H31a1,1,0,0,0,0-2Z"></path>
                            <rect x="2" y="26" width="2" height="2"></rect>
                            <path d="M31,26H7a1,1,0,0,0,0,2H31a1,1,0,0,0,0-2Z"></path>

                        </svg>

                    </button>

                </div>

            </div>

            <nav class="toggle-this pt3" hidden>

                <ul class="b ma0 mb4 pa0 f6 f5-ns list bb b--light-gray">

                    {% assign site_pages = site.pages | where: "in_nav", "true" | sort: "order" %}

                    {% for this_page in site_pages %}

                    <li><a href="{{ this_page.url }}" class="dark-gray hover-blue no-underline db pv2 bt b--light-gray">{% if this_page.nav-title %}{{ this_page.nav-title %}}{% else %}{{ this_page.title }}{% endif %}</a></li>

                    {% endfor %}

                </ul>

            </nav>

        </header>

        <main id="content" class="pa3 ph4-ns pv4-ns pt5-l">

            {% unless page.wide %}

            <div class="c-wrapper center">

            {% endunless %}
